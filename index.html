<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Prevención de ataques cardíacos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="cuadrado">
        <h1>Encuesta sobre Salud Cardíaca</h1>
        <form id="encuestaForm" class="container" method='PHOST' action="http://127.0.0.1:5000/predecir">
            <div class="pregunta">
                <label for="edad">Seleccione una categoria de edad: </label>
                <select type="text" id="edad" name="edad" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Age 80 or older">Entre 80 o más</option>
                    <option value="Age 70 to 74">Entre 70 a 74</option>
                    <option value="Age 65 to 69">Entre 65 a 69</option>
                    <option value="Age 60 to 64">Entre 60 a 64</option>
                    <option value="Age 55 to 59">Entre 55 a 59</option>
                    <option value="Age 50 to 54">Entre 50 a 54</option>
                    <option value="Age 45 to 49">Entre 45 a 49</option>
                    <option value="Age 40 to 44">Entre 40 a 44</option>
                    <option value="Age 35 to 39">Entre 35 a 39</option>
                    <option value="Age 30 to 34">Entre 30 a 34</option>
                    <option value="Age 25 to 29">Entre 25 a 29</option>
                    <option value="Age 18 to 24">Entre 18 a 24</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="dias_physic">¿Durante cuantos días en los últimos 30 días su salud física no fue buena?</label>
                <input type="number" id="dias_physic" name="dias" placeholder="Ingresa los días" required>
            </div>
            <div class="pregunta">
                <label for="dias_mental">¿Durante cuantos días en los últimos 30 días su salud mental no fue buena?</label>
                <input type="number" id="dias_mental" name="dias" placeholder="Ingresa los días" required>
            </div>
            <div class="pregunta">
                <label for="historia">Dría usted que, en general, su salud es:</label>
                <select id="historia" name="historia" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Excellent">Excelente</option>
                    <option value="Very good">Muy buena</option>
                    <option value="Good">Buena</option>
                    <option value="Fair">Regular</option>
                    <option value="Poor">Mala</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="actividad_fisica">¿Participó en alguna actividad física o ejercicio durante el último mes?</label>
                <select id="actividad_fisica" name="actividad_fisica" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="horas_sueño">En promedio. ¿Cuántas horas duerme en un periodo de 24 horas?</label>
                <input type="number" id="horas_sueño" name="horas" placeholder="Ingresa las horas" required>
            </div>
            <div class="pregunta">
                <label for="dientes_removidos">¿Cuántos dientes permanentes le han sido removidos debido a caries o enfermedad de las encías?</label>
                <select type="number" id="dientes_removidos" name="dientes_removidos" required>
                    <option value="">Seleccione una opción</option>
                    <option value="None of them">No me han sido removidos</option>
                    <option value="6 or more, but not all">Mas de 6, pero no todos</option>
                    <option value="1 to 5">Entre 1 y 5 dientes</option>
                    <option value="All">Todos</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="ataque_cardiaco">¿Alguna vez le dijeron que tuvo un ataque cardiaco (Ataque de miocardio)?</label>
                <select id="ataque_cardiaco" name="ataque_cardiaco" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="angina">¿Alguna vez le dijeron que tuvo angina o una enfermedad coronaria?</label>
                <select id="angina" name="angina" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="derrame_cerebral">¿Alguna vez le dijeron que tuvo derrame cerebral?</label>
                <select id="derrame_cerebral" name="derrame_cerebral" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="asma">¿Tiene o alguna vez tuvo asma?</label>
                <select id="asma" name="asma" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="cancer_piel">¿Alguna vez le dijeron que tuvo cáncer de piel que no es melanoma?</label>
                <select id="cancer_piel" name="cancer_piel" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="epoc">¿Alguna vez le dijeron que tenía EPOC, enfisema o bronquitis crónica?</label>
                <select id="epoc" name="epoc" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="depresivo">¿Alguna vez le dijeron que tenía un transtorno depresivo?</label>
                <select id="depresivo" name="depresivo" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="enfermedad_renal">¿Alguna vez le dijeron que tenía una enfermedad renal, excluyendo piedras o infecciones de vegija?</label>
                <select id="enfermedad_renal" name="enfermedad_renal" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="artritis">¿Alguna vez le dijeron que tenía alguna forma de artritis?</label>
                <select id="artritis" name="artritis" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="diabetes">¿Alguna vez le dijeron que tenía diabetes?</label>
                <select id="diabetes" name="diabetes" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>

            <div class="pregunta">
                <label for="fumador">¿Cuál es su estado de fumador? </label>
                <select id="fumador" name="fumador" required>
                    <option value="">Fumador...</option>
                    <option value="Former smoker">Diario</option>
                    <option value="Current smoker - now smokes some days">Ocasional</option>
                    <option value="Never smoked">No fumador</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="tc_tac">¿Alguna vez se ha realizado una tomografia computarizada (TC) o tomografia axial (TAC) en el area del pecho?</label>
                <select id="tc_tac" name="tc_tac" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="altura">Altura en metros</label>
                <input type="number" id="altura" name="altura" placeholder="Ingrese su altura (m)" required>
            </div>
            <div class="pregunta">
                <label for="peso">Peso en kilogramos</label>
                <input type="number" id="peso" name="peso" placeholder="Ingrese su peso (k)" required>
            </div>
            <div class="pregunta">
                <label for="imc">índice de Masa Corporal</label>
                <input type="number" id="imc" name="imc" placeholder="Ingrese su IMC" required>
            </div>
            <div class="pregunta">
                <label for="alcohol_dias">¿Ha consumido al menos una bebida alcohólica en los ultimos 30 días?</label>
                <select id="alcohol_dias" name="alcohol_dias" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="dificilta_caminar">¿Tienes dificultades serias para caminar o subir escaleras?</label>
                <select id="dificilta_caminar" name="dificilta_caminar" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="gripe_vacuna">¿Ha recibido la vacuna contra la gripe en los últimos 12 meses?</label>
                <select id="gripe_vacuna" name="gripe_vacuna" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="neumonia_vacuna">¿Alguna vez ha recibido una vacuna contra la neumonía?</label>
                <select id="neumonia_vacuna" name="neumonia_vacuna" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="dificultad_concentracion">¿Tiene dificultades serias para concentrarse, recordar o tomar decisiones debido a una condicion fisica, mental o emocional?</label>
                <select id="dificultad_concentracion" name="dificultad_concentracion" required>
                    <option value="">Seleccione una opción</option>
                    <option value="si">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="tetanos_vacuna">¿Ha recibido una vacuna contra los tétanos en los últimos 10 años?¿La vacuna inclua pertussis o tos ferina?</label>
                <select id="tetanos_vacuna" name="tetanos_vacuna" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes, received Tdap">Sí, recibi Tdap</option>
                    <option value="Yes, received tetanus shot but not sure what type">Sí, la recibi pero no se de que tipo</option>
                    <option value="No, did not receive any tetanus shot in the past 10 years">No, no la he recibido en los ultimos 10 años</option>
                    <option value="Yes, received tetanus shot, but not Tdap">Sí, la recibi pero no Tdap</option>
                </select>
            </div>
            <div class="pregunta">
                <label for="covid19">¿Alguna vez le dijeron que dio positivo para COVID-19?</label>
                <select id="covid19" name="covid19" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yes">Sí</option>
                    <option value="No">No</option>
                </select>
            </div>
            <button type="submit" class="boton" id="predecir">Enviar Encuesta</button>
        </form>
    </div>
    <script type="module">
            document.getElementById('encuestaForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const datosEncuesta = {
                edad: document.getElementById('edad').value,
                dias_physic: document.getElementById('dias_physic').value,
                dias_mental: document.getElementById('dias_mental').value,
                historia: document.getElementById('historia').value,
                actividad_fisica: document.getElementById('actividad_fisica').value,
                horas_sueño: document.getElementById('horas_sueño').value,
                dientes_removidos: document.getElementById('dientes_removidos').value,
                ataque_cardiaco: document.getElementById('ataque_cardiaco').value,
                angina: document.getElementById('angina').value,
                derrame_cerebral: document.getElementById('derrame_cerebral').value,
                asma: document.getElementById('asma').value,
                cancer_piel: document.getElementById('cancer_piel').value,
                epoc: document.getElementById('epoc').value,
                depresivo: document.getElementById('depresivo').value,
                enfermedad_renal: document.getElementById('enfermedad_renal').value,
                artritis: document.getElementById('artritis').value,
                diabetes: document.getElementById('diabetes').value,
                dificultad_concentracion: document.getElementById('dificultad_concentracion').value,
                fumador: document.getElementById('fumador').value,
                tc_tac: document.getElementById('tc_tac').value,
                altura: document.getElementById('altura').value,
                peso: document.getElementById('peso').value,
                imc: document.getElementById('imc').value,
                alcohol_dias: document.getElementById('alcohol_dias').value,
                dificilta_caminar: document.getElementById('dificilta_caminar').value,
                gripe_vacuna: document.getElementById('gripe_vacuna').value,
                neumonia_vacuna: document.getElementById('neumonia_vacuna').value,
                tetanos_vacuna: document.getElementById('tetanos_vacuna').value,
                covid19: document.getElementById('covid19').value
            };

            const formData = new FormData(this);

            fetch('http://127.0.0.1:5000/predecir', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
